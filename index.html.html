<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Football Poster Generator</title>
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIkZvb3RiYWxsIFBvc3RlciBHZW5lcmF0b3IiLAogICJzaG9ydF9uYW1lIjogIkZvb3RQb3N0ZXIiLAogICJkZXNjcmlwdGlvbiI6ICJHw6lucmF0ZXVyIGRlIHZpc3VlbHMgcG91ciBtYXRjaHMgZGUgZm9vdCIsCiAgInN0YXJ0X3VybCI6ICIvIiwKICAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjMjEzNTQ3IiwKICAidGhlbWVfY29sb3IiOiAiIzNiODJmNiIsCiAgImljb25zIjogWwogICAgewogICAgICAic3JjIjogImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgdmlld0JveD0nMCAwIDEwMCAxMDAnIGZpbGw9JyUyMzNiODJmNicgd2lkdGg9JzE5MicgaGVpZ2h0PScxOTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0NjaXJjbGUgY3g9JzUwJyBjeT0nNTAnIHI9JzQ1JyBmaWxsPSclMjMzYjgyZjYnLyUzRSUzQ3RleHQgeD0nNTAnIHk9JzU4JyB0ZXh0LWFuY2hvcj0nbWlkZGxlJyBmaWxsPSd3aGl0ZScgZm9udC1zaXplPSc0MHB4JyBmb250LWZhbWlseT0nQXJpYWwnJTNFJUYwJTlGJTkxJTkxJTNDL3RleHQlM0UlM0Mvc3ZnJTNFIiwKICAgICAgInNpemVzIjogIjE5MngxOTIiLAogICAgICAidHlwZSI6ICJpbWFnZS9zdmcreG1sIgogICAgfQogIF0KfQ==">
    <meta name="theme-color" content="#3b82f6">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-items: start;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .form-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #f1f5f9;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 16px;
            border: none;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.9);
            color: #1e293b;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);
            background: white;
        }

        .team-input {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 10px;
            align-items: center;
        }

        .vs-label {
            font-weight: bold;
            text-align: center;
            color: #fbbf24;
            font-size: 1.2rem;
        }

        .color-picker {
            width: 50px;
            height: 40px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        .image-upload {
            position: relative;
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .image-upload:hover {
            border-color: rgba(255, 255, 255, 0.6);
            background: rgba(255, 255, 255, 0.05);
        }

        .image-upload input[type="file"] {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .preview-section {
            position: sticky;
            top: 20px;
        }

        .canvas-container {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        canvas {
            width: 100%;
            height: auto;
            border-radius: 12px;
            border: 2px solid #e2e8f0;
        }

        .format-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .format-tab {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 20px;
            color: white;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .format-tab.active {
            background: #3b82f6;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 120px;
        }

        .btn-primary {
            background: #3b82f6;
            color: white;
        }

        .btn-primary:hover {
            background: #2563eb;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .btn-success {
            background: #10b981;
            color: white;
        }

        .btn-success:hover {
            background: #059669;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }

        .install-prompt {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #1e293b;
            color: white;
            padding: 15px 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            display: none;
            z-index: 1000;
        }

        .install-prompt button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            margin-left: 10px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚öΩ Football Poster Generator</h1>
            <p>Cr√©ez vos visuels de matchs en quelques clics</p>
        </div>

        <div class="main-content">
            <div class="form-section">
                <h2>Informations du Match</h2>
                
                <div class="form-group">
                    <label>Type d'√©v√©nement</label>
                    <select id="eventType">
                        <option value="match">‚öΩ Match de Football</option>
                        <option value="concert">üéµ Concert</option>
                        <option value="soiree">üéâ Soir√©e</option>
                        <option value="tournoi">üèÜ Tournoi</option>
                    </select>
                </div>

                <div class="form-group">
                    <label id="teamsLabel">√âquipes</label>
                    <div class="team-input">
                        <input type="text" id="teamHome" placeholder="√âquipe domicile" value="√âQUIPE A">
                        <span class="vs-label">VS</span>
                        <input type="text" id="teamAway" placeholder="√âquipe visiteur" value="√âQUIPE B">
                    </div>
                </div>

                <div class="form-group">
                    <label>Date et Heure</label>
                    <input type="datetime-local" id="matchDateTime">
                </div>

                <div class="form-group">
                    <label>Lieu</label>
                    <input type="text" id="venue" placeholder="Nom du stade" value="Stade Municipal">
                </div>

                <div class="form-group">
                    <label>Championnat/Comp√©tition</label>
                    <input type="text" id="competition" placeholder="Ex: Ligue des Champions" value="Championnat Local">
                </div>

                <div class="form-group">
                    <label>Police de caract√®res</label>
                    <select id="fontFamily">
                        <option value="Arial">Arial (Classique)</option>
                        <option value="Impact">Impact (Percutant)</option>
                        <option value="Helvetica">Helvetica (Moderne)</option>
                        <option value="Georgia">Georgia (√âl√©gant)</option>
                        <option value="Courier New">Courier New (R√©tro)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Couleurs</label>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <div>
                            <label style="font-size: 14px; margin-bottom: 5px;">Principale</label>
                            <input type="color" id="primaryColor" value="#3b82f6" class="color-picker" style="width: 100%;">
                        </div>
                        <div>
                            <label style="font-size: 14px; margin-bottom: 5px;">Accent</label>
                            <input type="color" id="accentColor" value="#fbbf24" class="color-picker" style="width: 100%;">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Taille du texte principal</label>
                    <input type="range" id="textSize" min="60" max="120" value="72" style="width: 100%;">
                    <span id="textSizeValue">72px</span>
                </div>

                <div class="form-group">
                    <label>Promotion/Message</label>
                    <textarea id="promotion" placeholder="Message promotionnel (optionnel)" rows="2"></textarea>
                    <label style="font-size: 14px; margin-top: 8px;">
                        <input type="checkbox" id="showPromotion" checked> Afficher la promotion
                    </label>
                </div>

                <div class="form-group">
                    <label>Image de fond</label>
                    <div class="image-upload">
                        <input type="file" id="backgroundImage" accept="image/*">
                        <p>üìÅ Cliquez pour ajouter une image</p>
                    </div>
                </div>
            </div>

            <div class="preview-section">
                <div class="format-tabs">
                    <button class="format-tab active" data-format="instagram-post">Post Instagram</button>
                    <button class="format-tab" data-format="instagram-story">Story Instagram</button>
                    <button class="format-tab" data-format="facebook-post">Post Facebook</button>
                </div>

                <div class="canvas-container">
                    <canvas id="posterCanvas" width="1080" height="1080"></canvas>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="generatePoster()">üé® G√©n√©rer</button>
                    <button class="btn btn-success" onclick="downloadPoster()">üíæ T√©l√©charger</button>
                </div>
            </div>
        </div>
    </div>

    <div class="install-prompt" id="installPrompt">
        <span>Installer l'app sur votre t√©l√©phone ?</span>
        <button onclick="installApp()">Installer</button>
        <button onclick="hideInstallPrompt()">√ó</button>
    </div>

    <script>
        // Variables globales
        let currentFormat = 'instagram-post';
        let backgroundImg = null;
        let deferredPrompt;

        // Formats disponibles
        const formats = {
            'instagram-post': { width: 1080, height: 1080 },
            'instagram-story': { width: 1080, height: 1920 },
            'facebook-post': { width: 1200, height: 630 }
        };

        // Configuration des √©v√©nements
        function getEventConfig() {
            const eventType = document.getElementById('eventType').value;
            const configs = {
                'match': {
                    emoji: '‚öΩ',
                    vsLabel: 'VS',
                    defaultTeam1: '√âQUIPE A',
                    defaultTeam2: '√âQUIPE B'
                },
                'concert': {
                    emoji: 'üéµ',
                    vsLabel: '&',
                    defaultTeam1: 'ARTISTE',
                    defaultTeam2: 'INVIT√â'
                },
                'soiree': {
                    emoji: 'üéâ',
                    vsLabel: '',
                    defaultTeam1: 'SOIR√âE',
                    defaultTeam2: 'SP√âCIALE'
                },
                'tournoi': {
                    emoji: 'üèÜ',
                    vsLabel: 'VS',
                    defaultTeam1: '√âQUIPE A',
                    defaultTeam2: '√âQUIPE B'
                }
            };
            return configs[eventType] || configs['match'];
        }

        // Mise √† jour des champs selon le type d'√©v√©nement
        function updateFormFields(eventType) {
            const teamsLabel = document.getElementById('teamsLabel');
            const competitionInput = document.getElementById('competition');
            const vsLabel = document.querySelector('.vs-label');
            const config = getEventConfig();
            
            // Mise √† jour du label VS
            vsLabel.textContent = config.vsLabel;
            
            switch(eventType) {
                case 'match':
                    teamsLabel.textContent = '√âquipes';
                    competitionInput.placeholder = 'Ex: Ligue des Champions';
                    break;
                case 'concert':
                    teamsLabel.textContent = 'Artistes';
                    competitionInput.placeholder = 'Ex: Festival de Musique';
                    break;
                case 'soiree':
                    teamsLabel.textContent = 'Th√®me';
                    competitionInput.placeholder = 'Ex: Soir√©e √âtudiante';
                    break;
                case 'tournoi':
                    teamsLabel.textContent = '√âquipes';
                    competitionInput.placeholder = 'Ex: Tournoi R√©gional';
                    break;
            }
        }

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            setDefaultDateTime();
            generatePoster();
            
            // PWA Install prompt
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                document.getElementById('installPrompt').style.display = 'block';
            });
        });

        function setupEventListeners() {
            // Format tabs
            document.querySelectorAll('.format-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelector('.format-tab.active').classList.remove('active');
                    this.classList.add('active');
                    currentFormat = this.dataset.format;
                    updateCanvasSize();
                    generatePoster();
                });
            });

            // Form inputs
            const inputs = ['teamHome', 'teamAway', 'matchDateTime', 'venue', 'competition', 'primaryColor', 'accentColor', 'promotion', 'fontFamily'];
            inputs.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('input', generatePoster);
                    element.addEventListener('change', generatePoster);
                }
            });

            // Event type changes
            document.getElementById('eventType').addEventListener('change', function() {
                updateFormFields(this.value);
                generatePoster();
            });

            // Text size display
            document.getElementById('textSize').addEventListener('input', function() {
                document.getElementById('textSizeValue').textContent = this.value + 'px';
                generatePoster();
            });

            // Show/hide promotion
            document.getElementById('showPromotion').addEventListener('change', generatePoster);

            // Background image
            document.getElementById('backgroundImage').addEventListener('change', handleImageUpload);
        }

        function setDefaultDateTime() {
            const now = new Date();
            now.setDate(now.getDate() + 7); // Semaine prochaine par d√©faut
            now.setHours(15, 0); // 15h00 par d√©faut
            document.getElementById('matchDateTime').value = now.toISOString().slice(0, 16);
        }

        function updateCanvasSize() {
            const canvas = document.getElementById('posterCanvas');
            const format = formats[currentFormat];
            canvas.width = format.width;
            canvas.height = format.height;
        }

        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = new Image();
                    img.onload = function() {
                        backgroundImg = img;
                        generatePoster();
                    };
                    img.src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        function generatePoster() {
            const canvas = document.getElementById('posterCanvas');
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Background
            if (backgroundImg) {
                // Image de fond avec ajustement
                const scale = Math.max(canvas.width / backgroundImg.width, canvas.height / backgroundImg.height);
                const x = (canvas.width - backgroundImg.width * scale) / 2;
                const y = (canvas.height - backgroundImg.height * scale) / 2;
                ctx.drawImage(backgroundImg, x, y, backgroundImg.width * scale, backgroundImg.height * scale);
                
                // Overlay sombre
                ctx.fillStyle = 'rgba(0, 0, 0, 0.5)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            } else {
                // Gradient par d√©faut
                const primaryColor = document.getElementById('primaryColor').value;
                const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
                gradient.addColorStop(0, primaryColor);
                gradient.addColorStop(1, '#1e293b');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            }

            if (currentFormat === 'instagram-story') {
                generateStoryLayout(ctx);
            } else {
                generatePostLayout(ctx);
            }
        }

        function generatePostLayout(ctx) {
            const eventConfig = getEventConfig();
            const teamHome = document.getElementById('teamHome').value || eventConfig.defaultTeam1;
            const teamAway = document.getElementById('teamAway').value || eventConfig.defaultTeam2;
            const dateTime = new Date(document.getElementById('matchDateTime').value);
            const venue = document.getElementById('venue').value;
            const competition = document.getElementById('competition').value;
            const promotion = document.getElementById('promotion').value;
            const showPromotion = document.getElementById('showPromotion').checked;
            const fontFamily = document.getElementById('fontFamily').value;
            const textSize = parseInt(document.getElementById('textSize').value);
            const accentColor = document.getElementById('accentColor').value;

            const centerX = ctx.canvas.width / 2;
            const centerY = ctx.canvas.height / 2;

            // Titre de la comp√©tition avec emoji
            if (competition) {
                ctx.fillStyle = accentColor;
                ctx.font = `bold 48px ${fontFamily}`;
                ctx.textAlign = 'center';
                ctx.fillText(`${eventConfig.emoji} ${competition.toUpperCase()}`, centerX, 120);
            }

            // √âquipes
            ctx.fillStyle = 'white';
            ctx.font = `bold ${textSize}px ${fontFamily}`;
            ctx.textAlign = 'center';
            ctx.fillText(teamHome.toUpperCase(), centerX, centerY - 60);

            // VS ou & selon le type d'√©v√©nement
            if (eventConfig.vsLabel) {
                ctx.fillStyle = accentColor;
                ctx.font = `bold 48px ${fontFamily}`;
                ctx.fillText(eventConfig.vsLabel, centerX, centerY);
            }

            // √âquipe adverse ou deuxi√®me √©l√©ment
            ctx.fillStyle = 'white';
            ctx.font = `bold ${textSize}px ${fontFamily}`;
            const yOffset = eventConfig.vsLabel ? 60 : 20;
            ctx.fillText(teamAway.toUpperCase(), centerX, centerY + yOffset);

            // Date et heure
            if (dateTime && !isNaN(dateTime)) {
                const dateStr = dateTime.toLocaleDateString('fr-FR', {
                    weekday: 'long',
                    day: 'numeric',
                    month: 'long'
                });
                const timeStr = dateTime.toLocaleTimeString('fr-FR', {
                    hour: '2-digit',
                    minute: '2-digit'
                });

                ctx.fillStyle = 'white';
                ctx.font = `36px ${fontFamily}`;
                ctx.fillText(`${dateStr} - ${timeStr}`, centerX, centerY + 150);
            }

            // Lieu
            if (venue) {
                ctx.fillStyle = '#cbd5e1';
                ctx.font = `32px ${fontFamily}`;
                ctx.fillText(`üìç ${venue}`, centerX, centerY + 200);
            }

            // Promotion
            if (promotion && showPromotion) {
                ctx.fillStyle = accentColor;
                ctx.font = `bold 28px ${fontFamily}`;
                const y = ctx.canvas.height - 100;
                
                // Background pour la promotion
                ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
                ctx.fillRect(0, y - 40, ctx.canvas.width, 80);
                
                ctx.fillStyle = accentColor;
                ctx.fillText(promotion.toUpperCase(), centerX, y);
            }
        }

        function generateStoryLayout(ctx) {
            const eventConfig = getEventConfig();
            const teamHome = document.getElementById('teamHome').value || eventConfig.defaultTeam1;
            const teamAway = document.getElementById('teamAway').value || eventConfig.defaultTeam2;
            const dateTime = new Date(document.getElementById('matchDateTime').value);
            const venue = document.getElementById('venue').value;
            const competition = document.getElementById('competition').value;
            const promotion = document.getElementById('promotion').value;
            const showPromotion = document.getElementById('showPromotion').checked;
            const fontFamily = document.getElementById('fontFamily').value;
            const textSize = parseInt(document.getElementById('textSize').value);
            const accentColor = document.getElementById('accentColor').value;

            const centerX = ctx.canvas.width / 2;
            
            // Layout vertical pour story
            let currentY = 300;

            // Comp√©tition avec emoji
            if (competition) {
                ctx.fillStyle = accentColor;
                ctx.font = `bold 54px ${fontFamily}`;
                ctx.textAlign = 'center';
                ctx.fillText(`${eventConfig.emoji} ${competition.toUpperCase()}`, centerX, currentY);
                currentY += 120;
            }

            // √âquipes en vertical
            ctx.fillStyle = 'white';
            ctx.font = `bold ${Math.min(textSize + 12, 96)}px ${fontFamily}`;
            ctx.fillText(teamHome.toUpperCase(), centerX, currentY);
            currentY += 120;

            // VS ou & selon le type d'√©v√©nement
            if (eventConfig.vsLabel) {
                ctx.fillStyle = accentColor;
                ctx.font = `bold 54px ${fontFamily}`;
                ctx.fillText(eventConfig.vsLabel, centerX, currentY);
                currentY += 100;
            }

            // √âquipe adverse ou deuxi√®me √©l√©ment
            ctx.fillStyle = 'white';
            ctx.font = `bold ${Math.min(textSize + 12, 96)}px ${fontFamily}`;
            ctx.fillText(teamAway.toUpperCase(), centerX, currentY);
            currentY += 120;

            // Date et heure
            if (dateTime && !isNaN(dateTime)) {
                const dateStr = dateTime.toLocaleDateString('fr-FR', {
                    weekday: 'long',
                    day: 'numeric',
                    month: 'long'
                });
                const timeStr = dateTime.toLocaleTimeString('fr-FR', {
                    hour: '2-digit',
                    minute: '2-digit'
                });

                ctx.fillStyle = 'white';
                ctx.font = `42px ${fontFamily}`;
                ctx.fillText(dateStr.toUpperCase(), centerX, currentY);
                currentY += 60;
                ctx.fillText(timeStr, centerX, currentY);
                currentY += 80;
            }

            // Lieu
            if (venue) {
                ctx.fillStyle = '#cbd5e1';
                ctx.font = `36px ${fontFamily}`;
                ctx.fillText(`üìç ${venue}`, centerX, currentY);
            }

            // Promotion en bas
            if (promotion && showPromotion) {
                ctx.fillStyle = accentColor;
                ctx.font = `bold 32px ${fontFamily}`;
                const y = ctx.canvas.height - 200;
                
                // Background pour la promotion
                ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
                ctx.fillRect(0, y - 50, ctx.canvas.width, 100);
                
                ctx.fillStyle = accentColor;
                ctx.fillText(promotion.toUpperCase(), centerX, y);
            }
        }

        function downloadPoster() {
            const canvas = document.getElementById('posterCanvas');
            const link = document.createElement('a');
            const teamHome = document.getElementById('teamHome').value || 'EQUIPE_A';
            const teamAway = document.getElementById('teamAway').value || 'EQUIPE_B';
            const filename = `${teamHome}_vs_${teamAway}_${currentFormat}.png`;
            
            link.download = filename;
            link.href = canvas.toDataURL();
            link.click();
        }

        // PWA Functions
        function installApp() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((result) => {
                    deferredPrompt = null;
                    hideInstallPrompt();
                });
            }
        }

        function hideInstallPrompt() {
            document.getElementById('installPrompt').style.display = 'none';
        }

        // Service Worker registration
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('data:text/javascript,self.addEventListener("fetch",e=>e.respondWith(fetch(e.request)))');
        }
    </script>
</body>
</html>